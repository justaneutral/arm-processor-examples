SDK_PATH="/home/pdourbal/ti-processor-sdk-linux-rt-am62dxx-evm-11.02.08.02/linux-devkit"
if [ -z "$ZSH_NAME" ] && [ "x$0" = "x./environment-setup" ]; then
    echo "Error: This script needs to be sourced. Please run as \". ./environment-setup\""
    exit 1
else
    if [ -n "$BASH_SOURCE" ]; then
        SDK_PATH="`dirname $BASH_SOURCE`"
    fi
    SDK_PATH=`readlink -f "$SDK_PATH"`
    export SDK_PATH
fi
export SDK_SYS=x86_64-arago-linux
export REAL_MULTIMACH_TARGET_SYS=aarch64-oe-linux
export TARGET_SYS=aarch64-oe-linux
export TARGET_PREFIX=$TARGET_SYS-
export SDK_PATH_NATIVE=$SDK_PATH/sysroots/$SDK_SYS
export SDK_PATH_TARGET=$SDK_PATH/sysroots/$REAL_MULTIMACH_TARGET_SYS
export PATH=$SDK_PATH_NATIVE/usr/bin:$SDK_PATH_NATIVE/usr/bin/aarch64-oe-linux:$PATH
export CPATH=$SDK_PATH_TARGET/usr/include:$CPATH
export PKG_CONFIG_SYSROOT_DIR=$SDK_PATH_TARGET
export PKG_CONFIG_PATH=$SDK_PATH_TARGET/usr/lib/pkgconfig:$SDK_PATH_TARGET/usr/share/pkgconfig
export PKG_CONFIG_ALLOW_SYSTEM_LIBS=1
export CONFIG_SITE=$SDK_PATH/site-config-$REAL_MULTIMACH_TARGET_SYS
export CC="${TARGET_PREFIX}gcc --sysroot=$SDK_PATH_TARGET"
export CXX="${TARGET_PREFIX}g++ --sysroot=$SDK_PATH_TARGET"
export GDB=${TARGET_PREFIX}gdb
export CPP="${TARGET_PREFIX}gcc -E --sysroot=$SDK_PATH_TARGET"
export LD="${TARGET_PREFIX}ld --sysroot=$SDK_PATH_TARGET"
export NM=${TARGET_PREFIX}nm
export AS=${TARGET_PREFIX}as
export AR=${TARGET_PREFIX}ar
export RANLIB=${TARGET_PREFIX}ranlib
export OBJCOPY=${TARGET_PREFIX}objcopy
export OBJDUMP=${TARGET_PREFIX}objdump
export STRIP=${TARGET_PREFIX}strip
export CONFIGURE_FLAGS="--target=aarch64-oe-linux --host=aarch64-oe-linux --build=x86_64-linux --with-libtool-sysroot=$SDK_PATH_TARGET"
export CPPFLAGS=" -mbranch-protection=standard --sysroot=$SDK_PATH_TARGET"
export CFLAGS="$CPPFLAGS"
export CXXFLAGS="$CPPFLAGS"
export LDFLAGS=" --sysroot=$SDK_PATH_TARGET"
export OECORE_NATIVE_SYSROOT=$SDK_PATH_NATIVE
export OECORE_TARGET_SYSROOT=$SDK_PATH_TARGET
export SDKTARGETSYSROOT=$SDK_PATH_TARGET
export OECORE_ACLOCAL_OPTS="-I $SDK_PATH_NATIVE/usr/share/aclocal"
export OECORE_DISTRO_VERSION="2025.01"
export OECORE_SDK_VERSION="2025.01"
export OECORE_BASELIB="lib"
export OECORE_TARGET_ARCH="aarch64"
export OECORE_TARGET_OS="linux"

# Append environment subscripts
if [ -d "$OECORE_TARGET_SYSROOT/environment-setup.d" ]; then
    for envfile in $OECORE_TARGET_SYSROOT/environment-setup.d/*.sh; do
	    . $envfile
    done
fi
if [ -d "$OECORE_NATIVE_SYSROOT/environment-setup.d" ]; then
    for envfile in $OECORE_NATIVE_SYSROOT/environment-setup.d/*.sh; do
	    . $envfile
    done
fi
export PS1="\[\e[32;1m\][linux-devkit]\[\e[0m\]:\w> "
